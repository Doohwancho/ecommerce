<mxfile host="65bd71144e">
    <diagram id="_qYy_YDmPthP_Fgu3tGh" name="페이지-1">
        <mxGraphModel dx="662" dy="670" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="17" value="Product" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="600" y="330" width="140" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="ProductId" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="17" vertex="1">
                    <mxGeometry y="30" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="19" value="view_count" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="17" vertex="1">
                    <mxGeometry y="60" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="68" value="API" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="1" vertex="1">
                    <mxGeometry x="110" y="180" width="100" height="710" as="geometry"/>
                </mxCell>
                <mxCell id="128" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="68" vertex="1">
                    <mxGeometry x="45" y="60" width="10" height="210" as="geometry"/>
                </mxCell>
                <mxCell id="73" value="Service" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;" parent="1" vertex="1">
                    <mxGeometry x="240" y="180" width="174" height="710" as="geometry"/>
                </mxCell>
                <mxCell id="130" value="read from cache" style="html=1;verticalAlign=bottom;endArrow=block;exitX=1.125;exitY=0.696;exitDx=0;exitDy=0;exitPerimeter=0;" parent="73" edge="1">
                    <mxGeometry width="80" relative="1" as="geometry">
                        <mxPoint x="82" y="122.27999999999997" as="sourcePoint"/>
                        <mxPoint x="190" y="120" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="131" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="73" vertex="1">
                    <mxGeometry x="82" y="70" width="10" height="190" as="geometry"/>
                </mxCell>
                <mxCell id="133" value="" style="endArrow=classic;html=1;" parent="73" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="170" y="140" as="sourcePoint"/>
                        <mxPoint x="92" y="140" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="125.75" y="140"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="134" value="return if exists" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="133" vertex="1" connectable="0">
                    <mxGeometry x="0.3979" y="4" relative="1" as="geometry">
                        <mxPoint x="25" y="-14" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="138" value="" style="endArrow=classic;html=1;" parent="73" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="289.5" y="220" as="sourcePoint"/>
                        <mxPoint x="92" y="220" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="225.75" y="220"/>
                            <mxPoint x="125.75" y="220"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="139" value="return product" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="138" vertex="1" connectable="0">
                    <mxGeometry x="0.3979" y="4" relative="1" as="geometry">
                        <mxPoint x="37" y="-14" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="129" value="read product" style="html=1;verticalAlign=bottom;endArrow=block;" parent="73" edge="1">
                    <mxGeometry x="-0.0258" width="80" relative="1" as="geometry">
                        <mxPoint x="-69.99999999999989" y="90" as="sourcePoint"/>
                        <mxPoint x="80" y="90" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="74" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="73" vertex="1">
                    <mxGeometry x="82" y="360" width="10" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="83" value="Repository" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="1" vertex="1">
                    <mxGeometry x="480" y="180" width="100" height="710" as="geometry"/>
                </mxCell>
                <mxCell id="136" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.mysql_db_instance_2;fillColor=#2E73B8;gradientColor=none;" parent="83" vertex="1">
                    <mxGeometry x="50" y="165" width="50" height="53" as="geometry"/>
                </mxCell>
                <mxCell id="112" value="" style="aspect=fixed;html=1;points=[];align=center;image;fontSize=12;image=img/lib/azure2/compute/Batch_Accounts.svg;labelBackgroundColor=#000000;fillColor=#FFFFFF;" parent="83" vertex="1">
                    <mxGeometry x="-180" y="310" width="44" height="41.41" as="geometry"/>
                </mxCell>
                <mxCell id="124" value="batch&amp;nbsp;&lt;br&gt;every 20m" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="83" vertex="1">
                    <mxGeometry x="-145" y="290" width="100" height="61.41" as="geometry"/>
                </mxCell>
                <mxCell id="85" value="" style="sketch=0;aspect=fixed;html=1;points=[];align=center;image;fontSize=12;image=img/lib/mscae/Cache_Redis_Product.svg;" parent="83" vertex="1">
                    <mxGeometry x="20" y="433" width="50" height="42" as="geometry"/>
                </mxCell>
                <mxCell id="118" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.mysql_db_instance_2;fillColor=#2E73B8;gradientColor=none;" parent="83" vertex="1">
                    <mxGeometry x="20" y="294.5" width="50" height="53" as="geometry"/>
                </mxCell>
                <mxCell id="92" value="cache top-n most searched products" style="html=1;verticalAlign=bottom;endArrow=block;dashed=1;exitX=1.125;exitY=0.696;exitDx=0;exitDy=0;exitPerimeter=0;" parent="83" source="74" edge="1">
                    <mxGeometry width="80" relative="1" as="geometry">
                        <mxPoint x="-145" y="483" as="sourcePoint"/>
                        <mxPoint x="44.5" y="483" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="93" value="return success" style="html=1;verticalAlign=bottom;endArrow=block;dashed=1;entryX=1;entryY=0.856;entryDx=0;entryDy=0;entryPerimeter=0;" parent="83" target="74" edge="1">
                    <mxGeometry x="0.0001" width="80" relative="1" as="geometry">
                        <mxPoint x="44.5" y="513" as="sourcePoint"/>
                        <mxPoint x="-174.67647058823536" y="513" as="targetPoint"/>
                        <mxPoint as="offset"/>
                        <Array as="points">
                            <mxPoint x="-115" y="513"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="122" value="return top-n most searched products" style="html=1;verticalAlign=bottom;endArrow=block;dashed=1;entryX=1.125;entryY=0.287;entryDx=0;entryDy=0;entryPerimeter=0;" parent="83" target="74" edge="1">
                    <mxGeometry x="0.0001" width="80" relative="1" as="geometry">
                        <mxPoint x="44.17999999999995" y="410" as="sourcePoint"/>
                        <mxPoint x="-145" y="410" as="targetPoint"/>
                        <mxPoint as="offset"/>
                        <Array as="points">
                            <mxPoint x="-115.31999999999994" y="410"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="119" value="sort product by view_count DESC limit N" style="html=1;verticalAlign=bottom;endArrow=block;dashed=1;exitX=1.125;exitY=0.086;exitDx=0;exitDy=0;exitPerimeter=0;" parent="83" source="74" edge="1">
                    <mxGeometry width="80" relative="1" as="geometry">
                        <mxPoint x="-129" y="380" as="sourcePoint"/>
                        <mxPoint x="44.5" y="375.48" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="75" value="update product's view_count +1" style="html=1;verticalAlign=bottom;endArrow=block;exitX=1.1;exitY=0.611;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1">
                    <mxGeometry width="80" relative="1" as="geometry">
                        <mxPoint x="333" y="350.2550000000001" as="sourcePoint"/>
                        <mxPoint x="529.5" y="350.2550000000001" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="132" value="" style="sketch=0;aspect=fixed;html=1;points=[];align=center;image;fontSize=12;image=img/lib/mscae/Cache_Redis_Product.svg;" parent="1" vertex="1">
                    <mxGeometry x="430" y="280" width="50" height="42" as="geometry"/>
                </mxCell>
                <mxCell id="137" value="if not cached, read product" style="html=1;verticalAlign=bottom;endArrow=block;" parent="1" edge="1">
                    <mxGeometry width="80" relative="1" as="geometry">
                        <mxPoint x="330" y="380" as="sourcePoint"/>
                        <mxPoint x="530" y="380" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="140" value="" style="endArrow=classic;html=1;exitX=0.1;exitY=0.845;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1" target="68" source="131">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="326.75" y="445.0049999999999" as="sourcePoint"/>
                        <mxPoint x="165" y="445.0049999999999" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="141" value="return product" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="140" vertex="1" connectable="0">
                    <mxGeometry x="0.2246" y="-4" relative="1" as="geometry">
                        <mxPoint x="18" y="-6" as="offset"/>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>